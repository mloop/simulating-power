<!DOCTYPE html>
<html>
  <head>
    <title>Power calculations using simulation</title>
    <meta charset="utf-8">
    <meta name="author" content="Matthew Loop" />
    <meta name="date" content="2019-02-02" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Power calculations using simulation
## When you donâ€™t know what the %*#$ to do
### Matthew Loop
### 2019-02-02

---


class: center, middle

# A colleague comes to you...

---

&gt; # I have a cohort study where we have collected data at two time points. We would like to collect data at a third time point. Our key question of interest is whether changes in risk factors for CVD predict changes in subclinical markers of the disease, such as measures of atherosclerosis from imaging data?

---

&gt; # Also, we want each participant to have a random intercept, random slope over time, and allow for non-linearity in the trajectory.

---
class: middle, center
![](index_files/figure-html/unnamed-chunk-1-1.png)&lt;!-- --&gt;


---

class: middle

* ## This collaborator was doing great work, had gotten multiple R01s and was very well-regarded in the community. It was important that this go well.
* ## It was my first time with a power calculation this complicated.
* ## So I fired up my sample size program to look for something...

---

background-image: url("https://thumbs.gfycat.com/AbandonedWetArcticseal-max-1mb.gif")
background-size: cover

---

background-image: url("https://i.pinimg.com/originals/40/4e/e8/404ee85853f8478e056eafc3dc8630ff.jpg")
background-size: cover

---

# Bioethical considerations

* ## What if we use too few?
* ## What if we use too many?

---


# My experience

.middle[
* ## Defended less than 4 years ago
* ## Several power calculations for R01s
    * ## AUC, competing risks (wrote my own code)
]

---

class: center, middle, inverse

# Create data-generating model

---

$$


---

# Perform planned analysis on simulated datasets

---

# Create great plots

---

# Use fake data simulation when designing a study!

---

* Correct power calculations for any model you can write down
* Compare statistal tests you are considering
* Identify issues with proposed data analysis
* Provide example figures to investigator
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
